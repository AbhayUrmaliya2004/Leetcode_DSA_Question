class Solution {
    public int[] maxSlidingWindow(int[] nums, int k) {
        int n = nums.length;
        int ans = Integer.MAX_VALUE;
        PriorityQueue<Integer> pq = new PriorityQueue<>((a, b)->Integer.compare(nums[a], nums[b]));

        for(int i=0 ; i<n ; i++){
            pq.add(i);
            if(i<k-1) continue;
            // remove the elements which are now out of window     
            while(pq.peek() <= i-k){
                pq.poll();
            }

            ans = Math.max(ans, nums[pq.peek()]);
        }

        return ans;
    }
}
